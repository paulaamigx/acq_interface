{"ast":null,"code":"var _jsxFileName = \"/home/paula/Documents/Practica/git/user_interface/src/components/InferenceUI/InferenceUI.js\";\nimport './InferenceUI.css';\nimport { Container, Row, Col } from 'reactstrap';\nimport React from 'react';\nimport WebcamStream from './WebcamStream/WebcamStream.js';\nimport SidePanel from './SidePanel/SidePanel.js';\nimport { manageStates } from './functions.js';\n\nclass InferenceUI extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      stateName: \"Idle\",\n      // Render canvas or video\n      renderCanvas: true,\n      // Canvas Message\n      canvasMessage: \"\",\n      canvasAlert: false,\n      // Progress Bar props\n      showProgressBar: false,\n      progress: 0,\n      // Show Spinner\n      showSpinner: false,\n      // Button state\n      textCtrlBtn: \"Empezar\",\n      enableCtrlBtn: true,\n      enableCaptureBtn: false,\n      // Side Panel\n      enableDownloadsTab: false,\n      enableDiagnosisTab: false,\n      enableConfigTab: true,\n      enableGalleryTab: false,\n      GallerySrc: []\n    };\n    this.childWebcamStream = React.createRef();\n    this.childDiagnosis = React.createRef();\n    this.countdownFrom = 1;\n    this.alertTimeout = null;\n    this.videoThumbnail = null;\n  } // En caso de que venga de review y vaya a idle, limpiar las variables.\n\n\n  async stateHandler(nextState) {\n    await this.setState({\n      stateName: nextState\n    });\n    console.log(\"estado en switch: \" + this.state.stateName);\n    await this.setState(manageStates(this.state.stateName));\n  }\n\n  getVideoThumbnail(img) {\n    this.videoThumbnail = img;\n  }\n\n  downloadHandler(media) {\n    if (media.localeCompare(\"video\") === 0) {\n      this.childWebcamStream.current.downloadVideo();\n    } else if (media.localeCompare(\"screenshots\") === 0) {\n      this.childWebcamStream.current.downloadScreenshots();\n    }\n  }\n\n  setScreenshots(data) {\n    ;\n  }\n\n  componentDidMount() {\n    this.childDiagnosis.current.listDevices();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      id: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(WebcamStream, {\n      currentState: this.state,\n      stateHandler: nextState => this.stateHandler(nextState),\n      changeStateProp: string => this.changeStateProp(string),\n      countdownFrom: this.countdownFrom,\n      ref: this.childWebcamStream,\n      getVideoThumbnail: img => this.getVideoThumbnail(img),\n      setScreenshots: data => this.setState({\n        GallerySrc: this.state.GallerySrc.concat(data)\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SidePanel, {\n      currentState: this.state,\n      thumbnail: this.videoThumbnail,\n      getScreenshots: () => this.getScreenshots(),\n      setStreamFromConfig: () => {\n        this.childWebcamStream.current.setStream();\n      },\n      ref: this.childDiagnosis,\n      downloadHandler: media => this.downloadHandler(media),\n      mirror: () => {\n        this.childWebcamStream.current.mirror();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }))));\n  }\n\n}\n\nexport default InferenceUI;","map":{"version":3,"sources":["/home/paula/Documents/Practica/git/user_interface/src/components/InferenceUI/InferenceUI.js"],"names":["Container","Row","Col","React","WebcamStream","SidePanel","manageStates","InferenceUI","Component","constructor","props","state","stateName","renderCanvas","canvasMessage","canvasAlert","showProgressBar","progress","showSpinner","textCtrlBtn","enableCtrlBtn","enableCaptureBtn","enableDownloadsTab","enableDiagnosisTab","enableConfigTab","enableGalleryTab","GallerySrc","childWebcamStream","createRef","childDiagnosis","countdownFrom","alertTimeout","videoThumbnail","stateHandler","nextState","setState","console","log","getVideoThumbnail","img","downloadHandler","media","localeCompare","current","downloadVideo","downloadScreenshots","setScreenshots","data","componentDidMount","listDevices","render","string","changeStateProp","concat","getScreenshots","setStream","mirror"],"mappings":"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","sourcesContent":["import './InferenceUI.css';\nimport {Container, Row,Col\n    } from 'reactstrap';\nimport React from 'react';\nimport WebcamStream from './WebcamStream/WebcamStream.js'\nimport SidePanel from './SidePanel/SidePanel.js'\nimport {manageStates} from './functions.js'\n\n\nclass InferenceUI extends React.Component {\n  \n  constructor(props){\n    super();\n    this.state = {\n      stateName: \"Idle\",\n\n      // Render canvas or video\n      renderCanvas: true,\n      // Canvas Message\n      canvasMessage: \"\",\n      canvasAlert: false,\n\n      // Progress Bar props\n      showProgressBar: false,\n      progress: 0,\n      // Show Spinner\n      showSpinner: false,\n      // Button state\n      textCtrlBtn: \"Empezar\",\n      enableCtrlBtn: true,\n      enableCaptureBtn: false,\n\n      // Side Panel\n      enableDownloadsTab: false,\n      enableDiagnosisTab: false,\n      enableConfigTab: true,\n      enableGalleryTab: false,\n      GallerySrc: []\n    }\n    this.childWebcamStream = React.createRef();\n    this.childDiagnosis = React.createRef();\n    this.countdownFrom = 1;\n    this.alertTimeout = null;\n    this.videoThumbnail = null;\n  }\n\n  // En caso de que venga de review y vaya a idle, limpiar las variables.\n  async stateHandler(nextState){\n    await this.setState({stateName: nextState});\n    console.log(\"estado en switch: \" + this.state.stateName);\n    await this.setState(manageStates(this.state.stateName));\n  }\n  \n  getVideoThumbnail(img){\n    this.videoThumbnail = img;\n  }\n  downloadHandler(media){\n    if(media.localeCompare(\"video\")===0){\n      this.childWebcamStream.current.downloadVideo();\n    }\n    else if(media.localeCompare(\"screenshots\")===0){\n      this.childWebcamStream.current.downloadScreenshots();\n    }\n  }\n\n  setScreenshots(data){\n    ;\n  }\n\n  componentDidMount(){\n    this.childDiagnosis.current.listDevices();\n  }\n\n  render() {\n      return (\n\t\t\t\t\t<Container id=\"container\">\n            <Row>\n              <Col xs=\"12\" md=\"8\">\n                <WebcamStream currentState={this.state} \n                              stateHandler={(nextState)=>this.stateHandler(nextState)} \n                              changeStateProp={(string)=>this.changeStateProp(string)}\n                              countdownFrom={this.countdownFrom} \n                              ref={this.childWebcamStream}\n                              getVideoThumbnail={(img)=>this.getVideoThumbnail(img)}\n                              setScreenshots={(data)=>this.setState({GallerySrc: this.state.GallerySrc.concat(data)})}/>\n              </Col>\n              <Col xs=\"12\" md=\"4\">\n                <SidePanel currentState={this.state}\n                              thumbnail={this.videoThumbnail}\n                              getScreenshots={()=>this.getScreenshots()}\n                              setStreamFromConfig={()=>{this.childWebcamStream.current.setStream();}}\n                              ref={this.childDiagnosis}\n                              downloadHandler={(media)=>this.downloadHandler(media)}\n                              mirror={()=>{this.childWebcamStream.current.mirror()}}/>\n\n              </Col>\n            </Row>\n          </Container>\n\t\n        );\n        \n    }\n}\nexport default InferenceUI;\n"]},"metadata":{},"sourceType":"module"}