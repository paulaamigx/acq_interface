{"ast":null,"code":"var _jsxFileName = \"/home/paula/Documents/Practica/git/user_interface/src/components/InferenceUI/ElementsMain.js\";\nimport { Button, Progress, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport React, { useState } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport './InferenceUI.css';\n\nclass ElementsMain extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openNMAlert: false,\n      fullScreen: false\n    };\n    this.progressBarColor = \"info\"; //reactStrap notation\n\n    this.openNMAlert = false;\n  }\n\n  setProgressBarColor() {\n    let p = parseInt(this.props.currentState.progress, 10);\n\n    if (p < 80) {\n      this.progressBarColor = \"info\";\n    } else if (p < 100) {\n      this.progressBarColor = \"success\";\n    } else {\n      this.progressBarColor = \"danger\";\n    }\n\n    return this.progressBarColor;\n  }\n\n  render() {\n    let classToRender = this.state.fullScreen ? \"fullScreen\" : \"default\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mainElements\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, !this.state.fullScreen && /*#__PURE__*/React.createElement(ElementsWindow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 36\n      }\n    }), this.state.fullScreen && /*#__PURE__*/React.createElement(ElementsFullScreen, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 35\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"froServer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, \"From Server\"), /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      onClick: () => this.props.fromServer(\"blur\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }\n    }, \"Blur\"), /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      onClick: () => this.props.fromServer(\"NM\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 6\n      }\n    }, \"NM\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: \"100\",\n      id: \"range\",\n      onChange: e => {\n        this.props.fromServer(\"progress\", e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      onClick: () => {\n        let el = document.getElementById(\"previewDiv\");\n        let canvas = document.getElementById(\"canvasPreview\");\n        let below = document.getElementById(\"belowCanvas\");\n        el.style.overflow = \"auto\";\n        canvas.style.height = window.screen.height + \"px\";\n        below.style.top = window.screen.height + \"px\";\n        console.log(canvas.height);\n\n        if (el.webkitRequestFullScreen) {\n          el.webkitRequestFullScreen();\n        } else {\n          el.mozRequestFullScreen();\n        }\n\n        this.setState({\n          fullScreen: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }\n    }, \"FP\")));\n  }\n\n}\n\nfunction ElementsWindow() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, this.props.currentState.showStartBtn && /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => startStopFunction(this),\n    className: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, this.props.currentState.textMainBtn), this.props.currentState.showCaptureBtn && /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    disabled: this.props.currentState.disableBtnCapture,\n    onClick: () => this.props.captureScreenshot(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Capture Screenshot\"), this.props.currentState.showProgressBar && /*#__PURE__*/React.createElement(Progress, {\n    value: this.props.currentState.progress,\n    color: this.setProgressBarColor(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), this.state.openNMAlert && /*#__PURE__*/React.createElement(ModalAlertNM, {\n    parent: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }));\n}\n\nfunction ElementsFullScreen() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, this.props.currentState.showStartBtn && /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => startStopFunction(this),\n    className: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, this.props.currentState.textMainBtn), this.props.currentState.showCaptureBtn && /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    disabled: this.props.currentState.disableBtnCapture,\n    onClick: () => this.props.captureScreenshot(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, \"Capture Screenshot\"), this.props.currentState.showProgressBar && /*#__PURE__*/React.createElement(Progress, {\n    value: this.props.currentState.progress,\n    color: this.setProgressBarColor(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }), this.state.openNMAlert && /*#__PURE__*/React.createElement(ModalAlertNM, {\n    parent: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  })));\n}\n\nfunction startStopFunction(btn) {\n  if (btn.props.currentState.textMainBtn.localeCompare(\"Start\") === 0) {\n    startFunction(btn);\n    return;\n  }\n\n  stopFunction(btn);\n}\n\nfunction startFunction(btn) {\n  console.log(btn.props);\n  btn.props.handler(\"Countdown\");\n  btn.props.currentState.almostStreaming = true;\n  setTimeout(function () {\n    btn.props.startRecording();\n  }, btn.props.countdownFrom * 1000 + 600);\n}\n\nfunction stopFunction(btn) {\n  btn.props.handler(\"StopStream\");\n  btn.props.stopRecording();\n}\n\nconst ModalAlertNM = props => {\n  const {\n    className,\n    parent\n  } = props;\n  const [modal, setModal] = useState(true);\n\n  const toggle = () => {\n    //setModal(!modal);\n    parent.setState({\n      openNMAlert: false\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, \"Cancelar\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, \"Se ha cortado porque no se detecta la membrana\"), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, \"Ok\"), ' ')));\n};\n\nexport default ElementsMain;","map":{"version":3,"sources":["/home/paula/Documents/Practica/git/user_interface/src/components/InferenceUI/ElementsMain.js"],"names":["Button","Progress","Modal","ModalHeader","ModalBody","ModalFooter","React","useState","Container","Row","Col","ElementsMain","Component","constructor","props","state","openNMAlert","fullScreen","progressBarColor","setProgressBarColor","p","parseInt","currentState","progress","render","classToRender","fromServer","e","target","value","el","document","getElementById","canvas","below","style","overflow","height","window","screen","top","console","log","webkitRequestFullScreen","mozRequestFullScreen","setState","ElementsWindow","showStartBtn","startStopFunction","textMainBtn","showCaptureBtn","disableBtnCapture","captureScreenshot","showProgressBar","ElementsFullScreen","btn","localeCompare","startFunction","stopFunction","handler","almostStreaming","setTimeout","startRecording","countdownFrom","stopRecording","ModalAlertNM","className","parent","modal","setModal","toggle"],"mappings":"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","sourcesContent":["import { Button, Progress, Modal, ModalHeader, ModalBody, ModalFooter\n} from 'reactstrap';\nimport React, {useState} from 'react';\nimport {Container, Row, Col } from 'react-bootstrap';\nimport './InferenceUI.css'\n\nclass ElementsMain extends React.Component{\n  constructor(props){\n      super(props);\n      this.state = {\n\t\t\t\topenNMAlert: false,\n        fullScreen: false\n      }\n      this.progressBarColor = \"info\"; //reactStrap notation\n\t\t\tthis.openNMAlert = false;\n  }\n\n  setProgressBarColor(){\n    let p =parseInt(this.props.currentState.progress,10);\n    if (p < 80){\n      this.progressBarColor = \"info\";\n    }\n    else if (p < 100){\n      this.progressBarColor = \"success\";\n    }\n    else{\n      this.progressBarColor = \"danger\";\n    }\n    return this.progressBarColor;\n  }\n  \n\n  render(){\n    let classToRender = this.state.fullScreen? \"fullScreen\":\"default\";\n    return(\n      <div id=\"mainElements\">\n        {!this.state.fullScreen && <ElementsWindow/>}\n        {this.state.fullScreen && <ElementsFullScreen/>}\n\n        <div id=\"froServer\">\n        <h4>From Server</h4>\n\t\t\t  <Button color= \"secondary\" \n\t\t\t\t\t\t\t\tonClick={()=>this.props.fromServer(\"blur\")}>\n\t\t\t\t\t\t\t\t{\"Blur\"}</Button>\n\t\t\t  <Button color= \"secondary\" \n\t\t\t\t\t\t\t\tonClick={()=>this.props.fromServer(\"NM\")}>\n\t\t\t\t\t\t\t\t{\"NM\"}</Button>\n        <input  type=\"range\" \n\t\t\t\t\t\t\t\tmin=\"0\" \n\t\t\t\t\t\t\t\tmax=\"100\" \n\t\t\t\t\t\t\t\tid=\"range\" \n\t\t\t\t\t\t\t\tonChange={(e)=>{this.props.fromServer(\"progress\",e.target.value);}}/>\n\t\t\t  <Button color= \"secondary\"\n                onClick={()=>{\n                  let el = document.getElementById(\"previewDiv\");\n                  let canvas  = document.getElementById(\"canvasPreview\");\n                  let below = document.getElementById(\"belowCanvas\");\n                  el.style.overflow = \"auto\";\n                  canvas.style.height = window.screen.height + \"px\";\n                  below.style.top =  window.screen.height + \"px\";\n                  console.log(canvas.height);\n                  if(el.webkitRequestFullScreen) {\n                    el.webkitRequestFullScreen();\n                    \n                  }\n                  else {\n                    el.mozRequestFullScreen();\n                  } \n                  this.setState({fullScreen: true});\n                }}>\n      \n                {\"FP\"} \n        </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction ElementsWindow(){\n  return(\n    <div>\n      {this.props.currentState.showStartBtn && \n          <Button color=\"primary\" \n                  onClick={() => startStopFunction(this)}\n                  className=\"default\">\n            {this.props.currentState.textMainBtn}</Button>}\n      {this.props.currentState.showCaptureBtn && \n        <Button color=\"primary\" \n                disabled={this.props.currentState.disableBtnCapture}  \n                onClick={() => this.props.captureScreenshot()}>\n          {\"Capture Screenshot\"}</Button>}\n      {this.props.currentState.showProgressBar && \n        <Progress value={this.props.currentState.progress} \n                  color={this.setProgressBarColor()}/>}\n\t\t\t{this.state.openNMAlert && \n\t\t\t\t<ModalAlertNM parent={this}/>}\n    </div>\n  );\n}\nfunction ElementsFullScreen(){\n  return(\n    <div id=\"container\">\n      <div className=\"overlay\">\n      {this.props.currentState.showStartBtn && \n          <Button color=\"primary\" \n                  onClick={() => startStopFunction(this)}\n                  className=\"default\">\n            {this.props.currentState.textMainBtn}</Button>}\n      {this.props.currentState.showCaptureBtn && \n        <Button color=\"primary\" \n                disabled={this.props.currentState.disableBtnCapture}  \n                onClick={() => this.props.captureScreenshot()}>\n          {\"Capture Screenshot\"}</Button>}\n      {this.props.currentState.showProgressBar && \n        <Progress value={this.props.currentState.progress} \n                  color={this.setProgressBarColor()}/>}\n\t\t\t{this.state.openNMAlert && \n\t\t\t\t<ModalAlertNM parent={this}/>}\n      </div>\n    </div>\n  );\n}\nfunction startStopFunction(btn){\n  if (btn.props.currentState.textMainBtn.localeCompare(\"Start\") === 0){\n    startFunction(btn);\n    return;\n  }\n  stopFunction(btn);\n}\n\nfunction startFunction(btn){\n  console.log(btn.props)\n  btn.props.handler(\"Countdown\");\n  btn.props.currentState.almostStreaming = true;\n  setTimeout(function(){\n   btn.props.startRecording();\n      },btn.props.countdownFrom*1000 + 600);\n  }\n  \n\nfunction stopFunction(btn){\n   btn.props.handler(\"StopStream\");\n   btn.props.stopRecording();\n}\n\n\nconst ModalAlertNM = (props) => {\n  const {\n    className,\n\t\tparent\n  } = props;\n\n  const [modal, setModal] = useState(true);\n\n  const toggle = () => {\n\t\t\t\t\t//setModal(!modal);\n\t\t\t\t\tparent.setState({openNMAlert: false});\n\t\t\t\t\t}\n\n  return (\n    <div>\n      <Modal isOpen={modal} toggle={toggle} className={className}>\n        <ModalHeader toggle={toggle}>Cancelar</ModalHeader>\n        <ModalBody>\n\t\t\t\t\tSe ha cortado porque no se detecta la membrana\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={toggle}>Ok</Button>{' '}\n        </ModalFooter>\n      </Modal>\n    </div>\n  );\n}\nexport default ElementsMain;\n"]},"metadata":{},"sourceType":"module"}