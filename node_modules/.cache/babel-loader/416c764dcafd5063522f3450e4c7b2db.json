{"ast":null,"code":"var _jsxFileName = \"/home/paula/Documentos/Simbiotica/git/acq_interface/src/components/InferenceUI/SidePanel/SidePanel.js\";\nimport ConfigTab from './Conf/ConfTab.js';\nimport DiagnosisTab from './Diagnosis/DiagnosisTab.js';\nimport ResultsTab from './Results/ResultsTab.js';\nimport ReportTab from './Report/ReportTab.js';\nimport './SidePanelWrapper.css';\nimport { Button } from 'reactstrap';\nimport React, { useState } from 'react';\nimport { listDevices, setGallery2, galleryPrev, galleryNext, hideSidePanel, showSidePanel, changeTab } from './functions.js';\nimport { getSysDetails } from './getNavDetais.js';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport frame138 from './Diagnosis/MaterialDiagnostico/frame138.png';\nimport frame302 from './Diagnosis/MaterialDiagnostico/frame302.png';\nimport frame1282 from './Diagnosis/MaterialDiagnostico/frame1282.png';\nimport iconShowPanel from './showPanel.png';\nimport \"jspdf/dist/polyfills.es.js\";\n\nclass SidePanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDiagnosisImg: false,\n      diagnosisImgOnModal: 0,\n      //should be initialized empty. Diagnosis and frames sent by server should be stored here in this format. Max 6 for report\n      diagnosisImgs: [[frame138, 'Diagnostico 1'], [frame302, 'Diagnostico 2'], [frame1282, 'Diagnostico 3'], [frame302, 'Diagnostico 4'], [frame138, 'Diagnostico 5']],\n      //index of first image on left side diagnosis\n      diagnosisIndex: 0\n    };\n    this.pdfSrc = null;\n    this.setShowDiagnosisImg = this.setShowDiagnosisImg.bind(this);\n    this.reportReady = this.reportReady.bind(this);\n    this.setDiagnosisIndex = this.setDiagnosisIndex.bind(this);\n  }\n\n  downloadHandler(media) {\n    this.props.downloadHandler(media);\n  }\n\n  listDevices() {\n    listDevices();\n  }\n\n  setGallery2() {\n    setGallery2(this.props);\n  }\n\n  componentDidMount() {\n    listDevices();\n    document.getElementById(\"countdownFromInput\").value = \"1\";\n    changeTab(1, this.props.setTabOn, this.props.currentState);\n  }\n\n  saveCanvasDim(w, h) {\n    this.props.saveCanvasDim(w, h);\n  }\n\n  getCanvasDim() {\n    return this.props.getCanvasDim();\n  }\n\n  galleryCtrl(dir, galleryIndxSh, gallerySrc, newPhoto, selectedPhoto) {\n    if (dir.localeCompare('prev') === 0) {\n      galleryPrev(galleryIndxSh, gallerySrc, newPhoto, selectedPhoto);\n    } else if (dir.localeCompare('next') === 0) {\n      galleryNext(galleryIndxSh, gallerySrc, newPhoto, selectedPhoto);\n    }\n  }\n\n  hideSidePanel() {\n    hideSidePanel(this);\n  }\n\n  setDiagnosisImgOnModal(value) {\n    this.setState({\n      diagnosisImgOnModal: value\n    });\n  }\n\n  setShowDiagnosisImg(value, indx) {\n    this.setState({\n      showDiagnosisImg: value\n    }, () => {\n      if (value) {\n        document.getElementById('d_modalImg').src = document.getElementById('diagnosisImg' + indx).src;\n        document.getElementById('d_modalImgTag').innerHTML = document.getElementById('d_ImgTag' + indx).innerHTML;\n      }\n    });\n    this.setDiagnosisImgOnModal(indx);\n  }\n\n  setPdfSrc(pdf) {\n    console.log('setpdf');\n    this.pdfSrc = pdf;\n  }\n\n  reportReady() {\n    this.props.setTabOn(4);\n  }\n\n  setDiagnosisIndex(indx) {\n    if (this.state.diagnosisImgs.length >= indx + 4 && indx >= 0) {\n      this.setState({\n        diagnosisIndex: indx\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 4\n      }\n    }, !this.props.currentState.hideSidePanel && /*#__PURE__*/React.createElement(\"div\", {\n      id: \"sidePanel_Wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      tabOn: this.props.currentState.tabOn,\n      currentState: this.props.currentState,\n      setTabOn: this.props.setTabOn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TabsBody, {\n      downloadHandler: media => this.downloadHandler(media),\n      currentState: this.props.currentState,\n      gallerySrc: this.props.gallerySrc,\n      setGalleryIndxShowing: this.props.setGalleryIndxShowing,\n      setSelectedGalleryPhoto: this.props.setSelectedGalleryPhoto,\n      selectedGalleryPhoto: this.props.currentState.selectedGalleryPhoto,\n      superElement: this,\n      showDiagnosisImg: this.state.showDiagnosisImg,\n      setShowDiagnosisImg: this.setShowDiagnosisImg,\n      pdfSrc: this.pdfSrc,\n      setPdfSrc: pdf => this.setPdfSrc(pdf),\n      diagnosisImgOnModal: this.state.diagnosisImgOnModal,\n      setDiagnosisImgOnModal: value => this.setDiagnosisImgOnModal(value),\n      diagnosisImgs: this.state.diagnosisImgs,\n      diagnosisIndex: this.state.diagnosisIndex,\n      setDiagnosisIndex: this.setDiagnosisIndex,\n      reportReady: this.reportReady,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ModalError, {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    })), this.props.currentState.hideSidePanel && /*#__PURE__*/React.createElement(\"div\", {\n      id: \"showSidePanel\",\n      onClick: () => {\n        showSidePanel(this);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"iconShowPanel\",\n      src: iconShowPanel,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nfunction TabsBody(props) {\n  if (props.currentState.tabOn === 1) {\n    return /*#__PURE__*/React.createElement(ConfigTab, {\n      superElement: props.superElement,\n      className: \"tabBody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 4\n      }\n    });\n  } else if (props.currentState.tabOn === 2) {\n    return /*#__PURE__*/React.createElement(ResultsTab, {\n      gallerySrc: props.gallerySrc,\n      galleryIndxSh: props.currentState.GalleryIndexShowing,\n      setGalleryIndxShowing: props.setGalleryIndxShowing,\n      setSelectedGalleryPhoto: props.setSelectedGalleryPhoto,\n      selectedPhoto: props.currentState.selectedGalleryPhoto,\n      downloadHandler: props.downloadHandler,\n      selectedGalleryPhoto: props.selectedGalleryPhoto,\n      currentStateName: props.currentState.stateName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    });\n  } else if (props.currentState.tabOn === 3) {\n    return /*#__PURE__*/React.createElement(DiagnosisTab, {\n      superElement: props.superElement,\n      showDiagnosisImg: props.showDiagnosisImg,\n      setShowDiagnosisImg: props.setShowDiagnosisImg,\n      setPdfSrc: props.setPdfSrc,\n      diagnosisImgOnModal: props.diagnosisImgOnModal,\n      setDiagnosisImgOnModal: props.setDiagnosisImgOnModal,\n      diagnosisImgs: props.diagnosisImgs,\n      diagnosisIndex: props.diagnosisIndex,\n      setDiagnosisIndex: props.setDiagnosisIndex,\n      reportReady: props.reportReady,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 7\n      }\n    });\n  } else if (props.currentState.tabOn === 4) {\n    return /*#__PURE__*/React.createElement(ReportTab, {\n      className: \"tabBody\",\n      pdfSrc: props.pdfSrc,\n      setPdfSrc: props.setPdfSrc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 7\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, \"Error\"));\n  }\n}\n\nfunction Tabs(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"reportTab\",\n    className: \"tab\",\n    onClick: () => changeTab(1, props.setTabOn, props.currentState),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }\n  }, \"S\\xEDntomas\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"confTab\",\n    className: \"tab\",\n    onClick: () => changeTab(2, props.setTabOn, props.currentState),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-cog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"resultsTab\",\n    className: \"tab\",\n    onClick: () => changeTab(3, props.setTabOn, props.currentState),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, \"Resultados de  Examinaci\\xF3n\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"diagnosisTab\",\n    className: \"tab\",\n    onClick: () => changeTab(4, props.setTabOn, props.currentState),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, \"Diagn\\xF3stico\"));\n}\n\nconst ModalError = props => {\n  const {\n    className\n  } = props;\n  const [modal, setModal] = useState(false);\n\n  const toggle = () => setModal(!modal);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"modalBtn\",\n    className: \"button\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }, \"Error\"), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, \"Reporte de errores\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 6\n    }\n  }, \"\\xBFQu\\xE9 pas\\xF3?\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"ErrorBox\",\n    cols: \"40\",\n    rows: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: getSysDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, \"Descargar\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, \"Cerrar\"))));\n};\n\nexport default SidePanel;","map":{"version":3,"sources":["/home/paula/Documentos/Simbiotica/git/acq_interface/src/components/InferenceUI/SidePanel/SidePanel.js"],"names":["ConfigTab","DiagnosisTab","ResultsTab","ReportTab","Button","React","useState","listDevices","setGallery2","galleryPrev","galleryNext","hideSidePanel","showSidePanel","changeTab","getSysDetails","Modal","ModalHeader","ModalBody","ModalFooter","frame138","frame302","frame1282","iconShowPanel","SidePanel","Component","constructor","props","state","showDiagnosisImg","diagnosisImgOnModal","diagnosisImgs","diagnosisIndex","pdfSrc","setShowDiagnosisImg","bind","reportReady","setDiagnosisIndex","downloadHandler","media","componentDidMount","document","getElementById","value","setTabOn","currentState","saveCanvasDim","w","h","getCanvasDim","galleryCtrl","dir","galleryIndxSh","gallerySrc","newPhoto","selectedPhoto","localeCompare","setDiagnosisImgOnModal","setState","indx","src","innerHTML","setPdfSrc","pdf","console","log","length","render","tabOn","setGalleryIndxShowing","setSelectedGalleryPhoto","selectedGalleryPhoto","TabsBody","superElement","GalleryIndexShowing","stateName","Tabs","ModalError","className","modal","setModal","toggle"],"mappings":"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","sourcesContent":["import ConfigTab from './Conf/ConfTab.js'\nimport DiagnosisTab from './Diagnosis/DiagnosisTab.js'\nimport ResultsTab from './Results/ResultsTab.js'\nimport ReportTab from './Report/ReportTab.js'\n\nimport './SidePanelWrapper.css'\nimport { Button } from 'reactstrap';\nimport React, {useState} from 'react';\nimport {listDevices, setGallery2, galleryPrev, galleryNext, hideSidePanel, showSidePanel, changeTab} from './functions.js'\nimport {getSysDetails} from './getNavDetais.js'\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nimport frame138 from './Diagnosis/MaterialDiagnostico/frame138.png'\nimport frame302 from './Diagnosis/MaterialDiagnostico/frame302.png'\nimport frame1282 from './Diagnosis/MaterialDiagnostico/frame1282.png'\nimport iconShowPanel from './showPanel.png'\nimport \"jspdf/dist/polyfills.es.js\";\n\nclass SidePanel extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n      showDiagnosisImg: false,\n      diagnosisImgOnModal: 0,\n      //should be initialized empty. Diagnosis and frames sent by server should be stored here in this format. Max 6 for report\n      diagnosisImgs: [[frame138,'Diagnostico 1'],\n                      [frame302,'Diagnostico 2'],\n                      [frame1282,'Diagnostico 3'],\n                      [frame302,'Diagnostico 4'],\n                      [frame138,'Diagnostico 5']],\n      //index of first image on left side diagnosis\n      diagnosisIndex: 0\n\n\t\t}\n    this.pdfSrc=null;\n\n    this.setShowDiagnosisImg= this.setShowDiagnosisImg.bind(this);\n    this.reportReady= this.reportReady.bind(this);\n    this.setDiagnosisIndex= this.setDiagnosisIndex.bind(this);\n  }\n\n  \n  downloadHandler(media){\n    this.props.downloadHandler(media);\n  }\n\n  listDevices(){\n    listDevices();\n  }\n  setGallery2(){\n    setGallery2(this.props);\n  }\n  componentDidMount(){\n    listDevices();\n    document.getElementById(\"countdownFromInput\").value=\"1\";\n    changeTab(1, this.props.setTabOn, this.props.currentState);\n  }\n  saveCanvasDim(w,h){\n    this.props.saveCanvasDim(w,h);\n  }\n  getCanvasDim(){\n    return this.props.getCanvasDim();\n  }\n  \n  galleryCtrl(dir, galleryIndxSh, gallerySrc, newPhoto, selectedPhoto){\n    if(dir.localeCompare('prev') === 0){\n      galleryPrev(galleryIndxSh, gallerySrc, newPhoto, selectedPhoto);\n    }\n    else if(dir.localeCompare('next') === 0){\n      galleryNext(galleryIndxSh, gallerySrc, newPhoto, selectedPhoto);\n    }\n  }\n  hideSidePanel(){\n    hideSidePanel(this);\n  }\n  setDiagnosisImgOnModal(value){\n    this.setState({diagnosisImgOnModal: value});\n  }\n  setShowDiagnosisImg(value,indx){\n    this.setState({showDiagnosisImg: value},()=>{\n      if(value){\n        document.getElementById('d_modalImg').src = document.getElementById('diagnosisImg'+indx).src;\n        document.getElementById('d_modalImgTag').innerHTML = document.getElementById('d_ImgTag'+indx).innerHTML;\n      }\n    });\n    this.setDiagnosisImgOnModal(indx);\n  }\n  setPdfSrc(pdf){\n    console.log('setpdf');\n    this.pdfSrc=pdf;\n  }\n  reportReady(){\n    this.props.setTabOn(4);\n  }\n  setDiagnosisIndex(indx){\n    if(this.state.diagnosisImgs.length >= indx+4 && indx >= 0 ){\n      this.setState({diagnosisIndex: indx});\n    }\n  }\n  render(){\n\t\treturn(\n\t\t\t<div>\n        {!this.props.currentState.hideSidePanel && \n\t\t\t    <div id=\"sidePanel_Wrapper\">\n            <Tabs tabOn={this.props.currentState.tabOn}\n                 \tcurrentState={this.props.currentState}\n                  setTabOn={this.props.setTabOn}\n                  \n            />\n\t\t\t\t    <TabsBody\n                 \t\tdownloadHandler={(media)=> this.downloadHandler(media)}\n                 \t\tcurrentState={this.props.currentState}\n                    gallerySrc={this.props.gallerySrc}\n                    setGalleryIndxShowing={this.props.setGalleryIndxShowing}\n                    setSelectedGalleryPhoto={this.props.setSelectedGalleryPhoto}\n                    selectedGalleryPhoto = {this.props.currentState.selectedGalleryPhoto}\n\t\t\t\t\t\t\t\t\t\tsuperElement={this}\n                    showDiagnosisImg = {this.state.showDiagnosisImg}\n                    setShowDiagnosisImg = {this.setShowDiagnosisImg}\n                    pdfSrc={this.pdfSrc}\n                    setPdfSrc={(pdf)=>this.setPdfSrc(pdf)}\n                    diagnosisImgOnModal={this.state.diagnosisImgOnModal}\n                    setDiagnosisImgOnModal={(value)=>this.setDiagnosisImgOnModal(value)}\n                    diagnosisImgs={this.state.diagnosisImgs}\n                    diagnosisIndex={this.state.diagnosisIndex}\n                    setDiagnosisIndex={this.setDiagnosisIndex}\n                    reportReady ={this.reportReady}\n            />\n\t\t\t\t\t\t<ModalError className=''/>\n\n            {/*!this.props.currentState.isVideoLoading  &&  this.props.currentState.renderCanvas &&\n              <div id=\"hideSidePanel\"  onClick={()=>this.hideSidePanel()}>\n                <img id='iconHidePanel' src={iconHidePanel} alt=''/>\n              </div>}\n              */}\n\t\t\t\t\t</div>}\n\n        {this.props.currentState.hideSidePanel && \n          <div id=\"showSidePanel\"  onClick={()=>{showSidePanel(this)}}>\n            <img id='iconShowPanel' src={iconShowPanel} alt=''/>\n          </div>\n        }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction TabsBody(props) {\n  if(props.currentState.tabOn === 1){\n    return(\n\t\t\t<ConfigTab superElement={props.superElement} className='tabBody'/>\n    );\n  }\n  else if(props.currentState.tabOn === 2){\n    return(\n      <ResultsTab gallerySrc={props.gallerySrc} \n                  galleryIndxSh={props.currentState.GalleryIndexShowing}\n                  setGalleryIndxShowing={props.setGalleryIndxShowing}\n                  setSelectedGalleryPhoto={props.setSelectedGalleryPhoto}\n                  selectedPhoto = {props.currentState.selectedGalleryPhoto}\n                  downloadHandler = {props.downloadHandler}\n                  selectedGalleryPhoto = {props.selectedGalleryPhoto}\n                  currentStateName= {props.currentState.stateName}\n                  />\n    );\n  }\n  else if(props.currentState.tabOn === 3){\n    return(\n      <DiagnosisTab superElement={props.superElement} \n                    showDiagnosisImg = {props.showDiagnosisImg}\n                    setShowDiagnosisImg = {props.setShowDiagnosisImg}\n                    setPdfSrc = {props.setPdfSrc}\n                    diagnosisImgOnModal={props.diagnosisImgOnModal}\n                    setDiagnosisImgOnModal={props.setDiagnosisImgOnModal}\n                    diagnosisImgs = {props.diagnosisImgs}\n                    diagnosisIndex = {props.diagnosisIndex}\n                    setDiagnosisIndex = {props.setDiagnosisIndex}\n                    reportReady = {props.reportReady}\n      />\n    );\n  }\n  else if(props.currentState.tabOn === 4){\n    return(\n      <ReportTab className='tabBody' pdfSrc={props.pdfSrc} setPdfSrc={props.setPdfSrc}/>\n    );\n  }\n  else{\n    return(\n      <div>\n      <p>Error</p>\n      </div>\n    );\n  }\n}\nfunction Tabs(props){\n  return(\n    <div id='tabs'>\n      <div id='reportTab' className='tab'\n           onClick={()=>changeTab(1, props.setTabOn, props.currentState)}>\n          Síntomas\n      </div>\n      <div id='confTab' className='tab' \n           onClick={()=>changeTab(2, props.setTabOn, props.currentState)}>\n        <i className=\"fas fa-cog\"></i>\n      </div>\n      <div id='resultsTab' className='tab'\n           onClick={()=>changeTab(3, props.setTabOn, props.currentState)}>\n        Resultados de  Examinación  \n      </div>\n      <div id='diagnosisTab' className='tab'\n           onClick={()=>changeTab(4, props.setTabOn, props.currentState)}>\n        Diagnóstico\n      </div>\n    </div>\n  );\n}\n\nconst ModalError = (props) => {\n  const {\n    className\n  } = props;\n\n  const [modal, setModal] = useState(false);\n\n  const toggle = () => setModal(!modal);\n\n  return (\n    <div>\n      <div id='modalBtn' className='button' onClick={toggle}>Error</div>\n      <Modal isOpen={modal} toggle={toggle} className={className}>\n        <ModalHeader toggle={toggle}>Reporte de errores</ModalHeader>\n        <ModalBody>\n\t\t\t\t\t<p>¿Qué pasó?</p>\n        \t<textarea id='ErrorBox' cols=\"40\" rows=\"3\"></textarea>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={getSysDetails}>Descargar</Button>\n          <Button color=\"secondary\" onClick={toggle}>Cerrar</Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  );\n}\nexport default SidePanel;\n"]},"metadata":{},"sourceType":"module"}