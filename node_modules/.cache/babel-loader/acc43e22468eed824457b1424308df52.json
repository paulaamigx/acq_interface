{"ast":null,"code":"export function listDevices() {\n  console.log(\"ld\");\n  var selectVideoSrc = document.getElementById(\"videoSelectConf\");\n\n  if (selectVideoSrc) {\n    navigator.mediaDevices.enumerateDevices().then(deviceInfos => {\n      selectVideoSrc.innerHTML = '';\n      let count = 1;\n      deviceInfos.forEach(deviceInfo => {\n        const option = document.createElement('option');\n        option.value = deviceInfo.deviceId;\n\n        if (deviceInfo.kind === 'videoinput') {\n          option.text = deviceInfo.label || `Camera ${count++}`;\n          selectVideoSrc.appendChild(option);\n        }\n      });\n    });\n  }\n}\nexport async function setGallery2(props) {\n  let mapKeys = Array.from(props.gallerySrc.keys());\n  let mapValues = Array.from(props.gallerySrc.values());\n  let mapArray = Array.from(props.gallerySrc);\n  let mapLength = mapArray.length;\n  let galleryIndxSh = props.currentState.GalleryIndexShowing;\n\n  if (galleryIndxSh.includes(0)) {\n    for (let i = 0; i < galleryIndxSh.length; i++) {\n      if (galleryIndxSh[i] === 0) {\n        props.setGalleryIndxShowing([mapKeys[mapLength - 1]], [i], false);\n        let name = 'img'.concat(i + 1);\n        document.getElementById(name).src = mapValues[mapLength - 1];\n        break;\n      }\n    }\n  } else {\n    props.setGalleryIndxShowing([galleryIndxSh[1], galleryIndxSh[2], mapKeys[mapLength - 1]], [0, 1, 2], true);\n  }\n}\n\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport async function galleryNext(galleryIndxSh, gallerySrc, newPhoto, setGalleryIndxShowing) {\n  let mapKeys = Array.from(gallerySrc.keys());\n\n  if (galleryIndxSh[2] < mapKeys[mapKeys.length - 1] || newPhoto) {\n    if (!newPhoto) {\n      let indx = mapKeys.indexOf(galleryIndxSh[2]);\n      setGalleryIndxShowing([galleryIndxSh[1], galleryIndxSh[2], mapKeys[indx + 1]], [0, 1, 2], false);\n    }\n\n    let img1 = document.getElementById('img1');\n    let img2 = document.getElementById('img2');\n    let img3 = document.getElementById('img3');\n    let pos1 = 0;\n    let pos2 = 14.4;\n    let pos3 = 25.4;\n    var intv = setInterval(frame, 10);\n\n    async function frame() {\n      if (pos1 > -10) {\n        pos1--;\n        img1.style.objectPosition = pos1 + 'vw';\n        pos2--;\n        img2.style.left = pos2 + 'vw';\n        pos3--;\n        img3.style.left = pos3 + 'vw';\n      } else {\n        img1.src = gallerySrc.get(galleryIndxSh[0]);\n        img2.src = gallerySrc.get(galleryIndxSh[1]);\n        img3.src = gallerySrc.get(galleryIndxSh[2]);\n        clearInterval(intv);\n        img1.style.objectPosition = '0vw';\n        img2.style.left = '14.4vw';\n        img3.style.left = '25.4vw';\n        img3.style.objectPosition = '-10vw';\n        pos3 = -10;\n        intv = setInterval(frame2, 5);\n\n        async function frame2() {\n          if (pos3 < 0) {\n            pos3++;\n            img3.style.objectPosition = pos3 + 'vw';\n          } else {\n            clearInterval(intv);\n          }\n        }\n      }\n    }\n  }\n}\nexport async function galleryPrev(galleryIndxSh, gallerySrc, newPhoto, setGalleryIndxShowing) {\n  let mapKeys = Array.from(gallerySrc.keys());\n  let indx = mapKeys.indexOf(galleryIndxSh[0]);\n  console.log(galleryIndxSh);\n\n  if (galleryIndxSh[0] > mapKeys[0]) {\n    setGalleryIndxShowing([galleryIndxSh[0], galleryIndxSh[1], mapKeys[indx - 1]], [1, 2, 0], false);\n    let img1 = document.getElementById('img1');\n    let img2 = document.getElementById('img2');\n    let img3 = document.getElementById('img3');\n    let pos1 = 3.4;\n    let pos2 = 14.4;\n    let pos3 = 0;\n    var intv = setInterval(frame, 20);\n\n    function frame() {\n      if (pos1 <= 14) {\n        pos1++;\n        img1.style.left = pos1 + 'vw';\n        pos2++;\n        img2.style.left = pos2 + 'vw';\n        pos3++;\n        img3.style.objectPosition = pos3 + 'vw';\n      } else {\n        console.log(galleryIndxSh);\n        img1.src = gallerySrc.get(galleryIndxSh[0]);\n        img2.src = gallerySrc.get(galleryIndxSh[1]);\n        img3.src = gallerySrc.get(galleryIndxSh[2]);\n        clearInterval(intv);\n        img1.style.left = '3.4vw';\n        img2.style.left = '14.4vw';\n        img3.style.objectPosition = '0vw';\n      }\n    }\n  }\n}\nexport default {\n  listDevices,\n  setGallery2,\n  galleryPrev,\n  galleryNext\n};","map":{"version":3,"sources":["/home/paula/Documents/Practica/git/user_interface/src/components/InferenceUI/SidePanel/functions.js"],"names":["listDevices","console","log","selectVideoSrc","document","getElementById","navigator","mediaDevices","enumerateDevices","then","deviceInfos","innerHTML","count","forEach","deviceInfo","option","createElement","value","deviceId","kind","text","label","appendChild","setGallery2","props","mapKeys","Array","from","gallerySrc","keys","mapValues","values","mapArray","mapLength","length","galleryIndxSh","currentState","GalleryIndexShowing","includes","i","setGalleryIndxShowing","name","concat","src","sleep","ms","Promise","resolve","setTimeout","galleryNext","newPhoto","indx","indexOf","img1","img2","img3","pos1","pos2","pos3","intv","setInterval","frame","style","objectPosition","left","get","clearInterval","frame2","galleryPrev"],"mappings":"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","sourcesContent":["export function listDevices(){\n  console.log(\"ld\");\n\tvar selectVideoSrc = document.getElementById(\"videoSelectConf\");\n  if(selectVideoSrc){\n  navigator.mediaDevices.enumerateDevices()\n  .then((deviceInfos) => {\n    selectVideoSrc.innerHTML = '';\n    let count = 1;\n    deviceInfos.forEach( deviceInfo => {\n      const option = document.createElement('option');\n      option.value = deviceInfo.deviceId;\n      if (deviceInfo.kind === 'videoinput') {\n        option.text = deviceInfo.label || `Camera ${count++}`;\n        selectVideoSrc.appendChild(option);\n      }\n    });\n  });\n  }\n\n}\n\nexport async function setGallery2(props){\n  let mapKeys = Array.from(props.gallerySrc.keys());\n  let mapValues = Array.from(props.gallerySrc.values());\n  let mapArray= Array.from(props.gallerySrc);\n  let mapLength = mapArray.length;\n  let galleryIndxSh = props.currentState.GalleryIndexShowing;\n  if(galleryIndxSh.includes(0)){\n    for (let i=0; i < galleryIndxSh.length; i++){\n      if(galleryIndxSh[i] === 0){\n        props.setGalleryIndxShowing([mapKeys[mapLength-1]],[i], false);\n        let name = 'img'.concat(i+1)\n        document.getElementById(name).src = mapValues[mapLength-1];\n        break;\n      }\n    }\n  }\n  else{\n    props.setGalleryIndxShowing([galleryIndxSh[1], galleryIndxSh[2], mapKeys[mapLength-1]],\n                                [0,1,2], true);\n  }\n\n}\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\nexport async function galleryNext(galleryIndxSh, gallerySrc, newPhoto, setGalleryIndxShowing){\n  let mapKeys = Array.from(gallerySrc.keys());\n  if (galleryIndxSh[2] < mapKeys[mapKeys.length-1] || newPhoto){\n    if(!newPhoto){\n      let indx = mapKeys.indexOf(galleryIndxSh[2]);\n      setGalleryIndxShowing([galleryIndxSh[1], galleryIndxSh[2], mapKeys[indx+1]],\n                            [0,1,2], false);\n    }\n    let img1 = document.getElementById('img1');\n    let img2 = document.getElementById('img2');\n    let img3 = document.getElementById('img3');\n    let pos1 = 0;\n    let pos2 = 14.4;\n    let pos3 = 25.4;\n    var intv = setInterval(frame, 10)\n    async function frame(){\n      if(pos1 >  -10){\n        pos1--;\n        img1.style.objectPosition= pos1 + 'vw';\n        pos2--;\n        img2.style.left = pos2 + 'vw'; \n        pos3--;\n        img3.style.left = pos3 + 'vw'; \n      }\n      else{\n        img1.src = gallerySrc.get(galleryIndxSh[0]);\n        img2.src = gallerySrc.get(galleryIndxSh[1]);\n        img3.src = gallerySrc.get(galleryIndxSh[2]);\n        clearInterval(intv);\n        img1.style.objectPosition=  '0vw';\n        img2.style.left = '14.4vw'; \n        img3.style.left = '25.4vw'; \n        img3.style.objectPosition=  '-10vw';\n        pos3 = -10;\n        intv = setInterval(frame2, 5)\n        async function frame2(){\n          if(pos3 <  0){\n            pos3 ++;\n            img3.style.objectPosition= pos3 + 'vw';\n          }\n          else{\n            clearInterval(intv);\n\n          }\n        }\n      }\n    } \n  }\n}\n\nexport async function galleryPrev(galleryIndxSh, gallerySrc, newPhoto, setGalleryIndxShowing){\n  let mapKeys = Array.from(gallerySrc.keys());\n  let indx = mapKeys.indexOf(galleryIndxSh[0]);\n  console.log(galleryIndxSh);\n  if (galleryIndxSh[0] > mapKeys[0] ){\n    setGalleryIndxShowing([galleryIndxSh[0], galleryIndxSh[1], mapKeys[indx-1]],\n                          [1,2,0], false);\n    let img1 = document.getElementById('img1');\n    let img2 = document.getElementById('img2');\n    let img3 = document.getElementById('img3');\n    let pos1 = 3.4;\n    let pos2 = 14.4;\n    let pos3 = 0;\n    var intv = setInterval(frame, 20)\n    function frame(){\n      if(pos1 <=  14){\n        pos1++;\n        img1.style.left= pos1 + 'vw';\n        pos2++;\n        img2.style.left = pos2 + 'vw'; \n        pos3++;\n        img3.style.objectPosition = pos3 + 'vw'; \n        \n      }\n      else{\n  console.log(galleryIndxSh);\n        img1.src = gallerySrc.get(galleryIndxSh[0]);\n        img2.src = gallerySrc.get(galleryIndxSh[1]);\n        img3.src = gallerySrc.get(galleryIndxSh[2]);\n        clearInterval(intv);\n        img1.style.left= '3.4vw';\n        img2.style.left= '14.4vw';\n        img3.style.objectPosition= '0vw';\n      }\n    }\n  }\n}\n\nexport default {listDevices, setGallery2, galleryPrev, galleryNext};\n"]},"metadata":{},"sourceType":"module"}